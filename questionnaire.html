<!DOCTYPE html>
<html lang="en" data-color-mode="dark">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="assets/img/nmp.ico" />
    <title>Nomophobia Questionnaire (NMP-Q)</title>

    <!-- Bootstrap CSS-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css"
    />
    <!-- AOS-->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/TextPlugin.min.js"></script>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"
    />
    <!-- My CSS-->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="animation.css" />
  </head>
  <body id="questionnaire">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg shadow-sm fixed-top">
      <div class="container">
        <a class="navbar-brand" style="font-weight: bolder"
          >Nomophobia Questionnaire (NMP-Q)</a
        >
        <button
          class="navbar-toggler custom-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item switch-theme">
              <input type="checkbox" class="checkbox" id="chk" />
              <label class="label" for="chk">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
                <div class="ball"></div>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Akhir Navbar -->

    <!-- Jumbotron -->
    <section class="jumbotron text-center">
      <h1 class="display-7 fw-semibold">Instructions</h1>
      <div class="card-body">
        <p id="instructionText" class="text-center"></p>
        <div id="scaleText" class="scale-container"></div>
        <p class="be-honest text-center mt-3 fw-bold text-danger">Be honest!</p>
      </div>
      <svg
        style="margin-bottom: -5px"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1440 320"
      >
        <path
          fill="#dde2E3"
          fill-opacity="1"
          d="M0,128L24,117.3C48,107,96,85,144,101.3C192,117,240,171,288,197.3C336,224,384,224,432,224C480,224,528,224,576,202.7C624,181,672,139,720,144C768,149,816,203,864,186.7C912,171,960,85,1008,96C1056,107,1104,213,1152,229.3C1200,245,1248,171,1296,133.3C1344,96,1392,96,1416,96L1440,96L1440,320L1416,320C1392,320,1344,320,1296,320C1248,320,1200,320,1152,320C1104,320,1056,320,1008,320C960,320,912,320,864,320C816,320,768,320,720,320C672,320,624,320,576,320C528,320,480,320,432,320C384,320,336,320,288,320C240,320,192,320,144,320C96,320,48,320,24,320L0,320Z"
        ></path>
      </svg>
    </section>
    <!-- Akhir Jumbotron -->

    <!-- Start -->
    <section id="start" style="padding-top: 0rem">
      <div class="container">
        <div class="row text-center mb-3">
          <div class="col mb-3">
            <form id="nmpqForm">
              <div id="questions"></div>
              <button
                class="btn btn-custom mt-4"
                id="nmpqFormSubmit"
                style="width: 20%; border-radius: 0.5rem"
                type="submit"
              >
                check!
              </button>
            </form>
            <div id="result"></div>
          </div>
        </div>
      </div>
      <svg
        style="margin-bottom: -5px"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1440 320"
      >
        <path
          fill="#3c455c"
          fill-opacity="1"
          d="M0,224L48,229.3C96,235,192,245,288,245.3C384,245,480,235,576,213.3C672,192,768,160,864,160C960,160,1056,192,1152,197.3C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
        ></path>
      </svg>
    </section>
    <!-- Akhir Start -->

    <!-- Footer -->
    <footer class="text-white text-center pb-5">
      <p>
        Created with
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="red"
          class="bi bi-balloon-heart-fill"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M8.49 10.92C19.412 3.382 11.28-2.387 8 .986 4.719-2.387-3.413 3.382 7.51 10.92l-.234.468a.25.25 0 1 0 .448.224l.04-.08c.009.17.024.315.051.45.068.344.208.622.448 1.102l.013.028c.212.422.182.85.05 1.246-.135.402-.366.751-.534 1.003a.25.25 0 0 0 .416.278l.004-.007c.166-.248.431-.646.588-1.115.16-.479.212-1.051-.076-1.629-.258-.515-.365-.732-.419-1.004a2.376 2.376 0 0 1-.037-.289l.008.017a.25.25 0 1 0 .448-.224l-.235-.468ZM6.726 1.269c-1.167-.61-2.8-.142-3.454 1.135-.237.463-.36 1.08-.202 1.85.055.27.467.197.527-.071.285-1.256 1.177-2.462 2.989-2.528.234-.008.348-.278.14-.386Z"
          />
        </svg>
        by
        <a
          href="https://www.linkedin.com/in/marco-alfan-71703a129/"
          class="text-white fw-bold"
          target="_blank"
          >Marco Alfan</a
        >
      </p>
    </footer>
    <!-- Akhir Footer -->

    <audio id="backgroundMusic" loop>
      <source src="assets/etc/backsound.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <img
      id="musicToggle"
      src="assets/img/sound.png"
      onclick="toggleMusic()"
      alt="Toggle Music"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
    <script src="auth.js"></script>
    <script src="script.js"></script>
    <script>
      AOS.init({
        once: true,
        duration: 2000,
      });

      gsap.registerPlugin(TextPlugin);
      gsap.from(".navbar", {
        duration: 1.5,
        y: "-100%",
        opacity: 0,
        ease: "power2",
      });

      let music = document.getElementById("backgroundMusic");
      let musicToggle = document.getElementById("musicToggle");
      let isPlaying = false;

      // Fungsi untuk memulai musik
      function startMusic() {
        music
          .play()
          .then(() => {
            isPlaying = true;
            updateMusicToggle();
          })
          .catch((error) => {
            console.log("Pemutaran musik gagal:", error);
          });
      }

      // Fungsi untuk toggle musik
      function toggleMusic() {
        if (isPlaying) {
          music.pause();
          isPlaying = false;
        } else {
          startMusic();
        }
        updateMusicToggle();
      }

      // Fungsi untuk memperbarui tampilan toggle
      function updateMusicToggle() {
        musicToggle.src = isPlaying
          ? "assets/img/sound.png"
          : "assets/img/mute.png";
      }

      // Event listener untuk toggle musik
      musicToggle.addEventListener("click", toggleMusic);

      // Event listener untuk interaksi pengguna pertama kali
      document.addEventListener(
        "click",
        function () {
          if (!isPlaying) {
            startMusic();
          }
        },
        { once: true }
      );

      // Muat status musik dari localStorage saat halaman dimuat
      window.addEventListener("load", function () {
        let savedMusicState = localStorage.getItem("musicPlaying");
        if (savedMusicState === "true") {
          startMusic();
        }
      });

      // Simpan status musik ke localStorage saat meninggalkan halaman
      window.addEventListener("beforeunload", function () {
        localStorage.setItem("musicPlaying", isPlaying);
      });

      // Tangani kasus ketika musik selesai (jika loop tidak berfungsi)
      music.addEventListener("ended", function () {
        isPlaying = false;
        updateMusicToggle();
      });
    </script>
  </body>
</html>
